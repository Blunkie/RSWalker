program new;
{$I SRL/OSR.simba}
{$I OSRWalker/Walker.simba}

procedure WhileMoving(Sender:TObject; pos:TPoint);
begin
  WriteLn('>>> ', pos);
end;


var
  RSW:TRSWalker;
  path:TPointArray;
begin
  AddOnTerminate('OnTerminate');
  
  RSW.Init('Tests\OSR_MAP\world.png', w_getClientPID()); //if SMART: smart.PID
  AddOnTerminate(@RSW.Free);
  
  RSW.walkStyle := wsRegular;
  RSW.anyAngle  := True;
  RSW.skipClose := 15;
  RSW.onMoveEvent := @WhileMoving;
  
  path := [Point(2127, 2099), Point(2101, 2085), Point(2068, 2085), Point(2035, 2082)];
  RSW.WalkPath(path);
end.
